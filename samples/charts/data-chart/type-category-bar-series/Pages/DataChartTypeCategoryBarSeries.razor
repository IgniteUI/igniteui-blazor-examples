
@using Infragistics.Blazor.Controls
@inject IInfragisticsBlazor InfragisticsBlazor

<div class="igContainer">
    <div class="igComponent">

        <DataChart Height="100%" Width="100%"
                   ChartTitle="Total Olympic Medals"
                   Subtitle="United States vs China vs Russia"
                   TitleTopMargin="10"
                   IsHorizontalZoomEnabled="true"
                   IsVerticalZoomEnabled="true">

            <CategoryYAxis Name="yAxis" Label="Year" DataSource="@DataSource" 
                           Title="Olympic Years" TitleLeftMargin="10" TitleRightMargin="0"
                           Gap="0.2" Overlap="-0.05"/>
            <NumericXAxis  Name="xAxis" Title="Olympic Medals" />
            
            <BarSeries XAxisName="xAxis"
                       YAxisName="yAxis"
                       DataSource="@DataSource"
                       ValueMemberPath="USA" Title="USA"
                       AreaFillOpacity="1"
                       ShowDefaultTooltip="true"
                       IsTransitionInEnabled="true"
                       IsHighlightingEnabled="true">
            </BarSeries>
            <BarSeries XAxisName="xAxis"
                       YAxisName="yAxis"
                       DataSource="@DataSource"
                       ValueMemberPath="CHN" Title="China"
                       AreaFillOpacity="1"
                       ShowDefaultTooltip="true"
                       IsTransitionInEnabled="true"
                       IsHighlightingEnabled="true">
            </BarSeries>
            <BarSeries XAxisName="xAxis"
                       YAxisName="yAxis"
                       DataSource="@DataSource"
                       ValueMemberPath="RUS" Title="Russia"
                       AreaFillOpacity="1"
                       ShowDefaultTooltip="true"
                       IsTransitionInEnabled="true"
                       IsHighlightingEnabled="true">
            </BarSeries>
        </DataChart>

    </div>
</div>

@code {

    private List<SampleCategoryItem> DataSource;

    protected override void OnInitialized()
    { 
        DataChartCoreModule.Register(InfragisticsBlazor);
        DataChartCategoryCoreModule.Register(InfragisticsBlazor);
        DataChartCategoryModule.Register(InfragisticsBlazor);
        DataChartInteractivityModule.Register(InfragisticsBlazor);
        DataChartVerticalCategoryModule.Register(InfragisticsBlazor);

        DataSource = SampleCategoryData.Create();

        Console.WriteLine("DataSource " + DataSource.Count);
    }
}